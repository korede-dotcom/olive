<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1 user-scalable=0">
    <title>G-FACTOR </title>
    <link rel="icon" href="/assest/OLIVE/logo.png">
    <!-- <link rel=" stylesheet" href="/styles/auth.css"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

    <!-- <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;1,900&display=swap" rel="stylesheet"> -->
    <script src="https://checkout.flutterwave.com/v3.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/intlTelInput.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/css/intlTelInput.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Khand:wght@400;600&family=Mulish:wght@300&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.2.2/particles.min.js"></script>
    <!-- <script src="https://api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js"></script> -->

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            /* webkit scroll */

        }

        body::-webkit-scrollbar {
            display: none;
        }



        body {
            font-family: 'khand', sans-serif;
            /* background-image: linear-gradient(135deg, #667eea 0%, #764ba2 100%); */

            color: #ddd;

            /* background-image: url("/assest/GODFACTOR/wave.svg"); */
            /* background-image: url("/assest/OLIVE/duotone.png"); */
            /* background-image: url("/assest/OLIVE/patternpad.svg"); */
            background-repeat: no-repeat;
            background-position: bottom;
            background-size: contain;
            animation: fadein 2s;
            height: 100vh;
            overflow-y: scroll;
        }

        /* keyframe change background image */

        .container {
            background-color: #27184f;

            height: 100vh;
            overflow-y: scroll;
            position: relative !important;
            /* background: #ffffff; */
            /* border: 1px solid #fff; */
            /* border-radius: 20px; */
            /* background-image: url("/assest/GODFACTOR/blob-r.svg"); */

            /* background-image: linear-gradient(to top, #9795f0 0%, #fbc8d4 100%); */
        }

        .container::-webkit-scrollbar {
            display: none;
        }

        .content {
            background-color: transparent !important;
            /* height: 50%; */

            /* background-image: url("/assest/GODFACTOR/wave.svg"); */
        }





        header {
            background-color: inherit !important;
        }

        .imageOne {
            height: 100Vh;
            /* background-image: url("/assest/OLIVE/duotone2.png"); */
            /* background-image: url("/assest/OLIVE/cool-background.png"); */
            background-image: url("/assest/OLIVE/dap.png");
            /* animation: change 2s ease 1s 2 forwards; */

            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            color: #F2C033;

            /* border: #88266F 1px solid; */
        }

        .onetext {
            border-bottom: #88266F 4px solid;
        }

        .onetext h5 {
            color: #ffffff;
            font-family: 'Mulish', sans-serif;
            /* box-shadow: 0px 0px 10px #fcfcfc; */
        }

        .wrapper {
            /* background-image: url("/assest/OLIVE/duotone2.png"); */
            display: grid;
            grid-template-columns: 2fr 1fr;
            position: relative;



        }

        @keyframes change {
            0% {
                background-image: url("/assest/OLIVE/dap2.png");
            }

            50% {
                background-image: url("/assest/OLIVE/dap-guitar.png");
            }

            100% {
                background-image: url("/assest/OLIVE/dap.png");
            }



        }

        .menubar {
            height: 25px;
        }

        .boxs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            grid-gap: 2px;
            /* place-items: center; */
            /* height: 80vh; */
            /* color: #f56468; */
            /* align-content: center; */
            color: #000;
            /* height: 90vh; */
            font-family: 'Mulish', sans-serif;
            /* border: 1px solid #F2C033; */
            padding: 1em;
            /* border: 2px solid #857d9b; */
            text-align: center;
            /* align-content: center; */


        }

        .boxs a {
            text-decoration: none;
        }



        .box:hover {
            /* background-color: #F2C033;
            /* color: #fff; */
            border: 1px solid #F2C033;
            /* box-shadow: 3px 2px 1px #27184f; */
            align-content: center;
            /* color: #f56468 !important; */
            /* background-color: #000; */
            cursor: pointer;



        }

        .bo {


            /* border: 1px solid #F2C033; */
            padding: 1em;
            box-shadow: 3px 2px 1px #27184f;

            cursor: pointer;
        }

        .bo:hover {
            /* background-color: #857d9b; */
            color: #fff;
            border: 1px solid #F2C033;
            box-shadow: 3px 2px 1px #27184f;
            align-content: center;
            /* color: #f56468 !important; */
            /* background-color: #000; */
            cursor: pointer;
        }

        .box {
            /* border: 2px solid #88266F; */
            /* border: 1px solid #857d9b; */
            grid-gap: 10px;
            padding: 1em;
            /* display: grid; */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            border-radius: 10px;
            /* background-color: #ddd; */




        }


        .box h5 {
            color: #F2C033;
        }

        .box img {
            height: 50px;
            width: 50px;

        }


        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.1em .4em;
            height: 10vh;

            /* background-color: #f56468 !important; */
        }

        .navlink {
            display: none;
            /* display: flex; */
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            padding: 0 20px;
            position: absolute;
            top: 50px;
            right: 0;
            width: 100%;
            height: 80vh;
            /* margin: auto 0; */
            color: #000;
            background-color: #27184f;
            z-index: 1;
            /* transition: all 0.5s ease-in; */



        }

        .navlink a {
            color: #857d9b;
            text-decoration: none;
            font-size: 1.5em;
            /* border: #F2C033 1px solid; */
            padding: 1.5em;
        }

        .navlink a:hover {
            color: #F2C033;
        }

        /* .bo {
            background: linear-gradient(145deg, #790AE9, #53079F);
            border-radius: 15%;
            box-shadow: 9.91px 9.91px 15px #5D07B2, -9.91px -9.91px 15px #6F09D6;
        } */
        .content h4 {
            text-align: center;
            /* border-bottom: 1px solid #F2C033; */
        }

        @media screen and (max-width: 40em) {


            /* .navlink {
                display: block;
            } */
            body {
                /* background-image: url("/assest/OLIVE/duotone2.png"); */
                color: #000 !important;
            }

            input[type='date']:empty:after {
                content: attr(placeholder);
                color: #F2C033;
                position: absolute;
                top: 0;
                left: 0;
                font-size: 1em;
                z-index: 1;
            }


            .wrapper {
                grid-template-columns: 1fr;
                height: 100%;
                /* height: 100vh; */
            }

            .imageOne {
                display: none;
            }

            .content {
                height: 100%;
                /* background-image: url("/assest/OLIVE/wave2.svg"); */
                background-image: url("/assest/OLIVE/duotone8.png");
                background-position: bottom;
                background-size: cover;
                background-repeat: no-repeat;
                /* display: grid;
                padding: 1em;
                text-align: center !important; */
                position: relative;

            }

            .boxs {
                border: 2px solid #857d9b;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                grid-gap: 10px;
                border-radius: 16px;
            }

            .box {
                /* text-align: center; */
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;

                height: 100%;
                border: #27184f 1px solid;
                border-radius: 20px;
                /* background-color: #ddd; */

            }

            .auditionBox {
                min-height: 100vh;
                padding: 0;
            }

            .auditiontext {
                padding-top: 40px;
            }

            .icondate {
                display: none;
            }


            .auditionBox .abox {

                /* gap: 0px; */
                margin-top: 33px;


            }

            header {
                position: fixed;
                inset: 0;
                z-index: 1;
                /* padding: 0.1em .4em; */
            }

            .auditionBox {
                /* padding-top: 50px; */
            }

            .dateicon {
                padding-bottom: 30px;
            }

            .readyforaudition {
                margin-bottom: 10px;
            }



        }

        .icondate {
            display: none;
        }

        .shownav {
            display: flex;

        }

        .auditionText {
            font-size: 1.2em;
            color: #F2C033;
            text-align: start;
        }

        .round {
            border-radius: 50%;
            height: 80px;
            width: 80px;
            object-fit: cover;

        }



        .auditionBox {
            height: 100%;
            padding: 1em;
        }

        .auditionBox .abox {

            /* background: #0c0c0c; */
            box-shadow: 0px 4px 26px rgba(0, 0, 0, 0.15);
            border-radius: 10px;
            display: flex;
            /* padding: 10px 1em; */
            /* height: 100%; */
            flex-direction: column;
            justify-content: space-between;
            color: #ddd;
            /* border: 1.5px solid #62615d; */


            gap: 15px;


        }

        .abox a {
            color: goldenrod;
            text-align: end;
        }

        .auditiontext {
            display: flex;
            flex-direction: column;
            font-weight: 200;
        }

        .auditiontext h4 {
            font-size: 1.2em;
            color: #F2C033;
            text-align: start;
        }

        .auditiontext p {
            font-size: 14px;
            font-family: 'Mulish', sans-serif;
        }

        .abox_content {
            display: flex;
            /* align-items: center; */
            /* justify-content: space-between; */
            width: 100%;
            gap: 15px;
            font-weight: 300;
        }

        .abox_content img {
            height: 30px;
            width: 30px;
        }

        .abox_content p {
            font-weight: 400;
        }

        .imageforaudition {
            display: flex;
            justify-content: end;
        }

        .textimg {
            /* display: grid; */
            /* grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
            grid-gap: 10px; */
            /* flex-direction: column; */
            /* justify-content: space-between;
            align-items: center;
            gap: 10px; */
        }

        /* .textimg>div:nth-of-type(1) {
            flex: 2;
        } */

        .textimg img {
            height: 70px;
            width: 70px;
            border-radius: 50%;
            border: 1px solid #F2C033;
            object-fit: contain;
        }

        .uploadbtn {
            background-color: #F2C033;
            color: #27184f !important;
            padding: 5px 1em;
            border-radius: 5px;
        }

        .uploadbtn:hover {
            background-color: #88266F;
            color: #F2C033 !important;
        }

        .dateicon {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            grid-gap: 10px;
            place-content: center;
        }

        .selectdd {
            display: grid;
            place-content: center;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            grid-gap: 10px;
        }

        .selectdd select {
            width: 100%;
            height: 100%;
            border: 1px solid #F2C033;
            border-radius: 5px;
            padding: 5px;
            font-size: 1em;
            color: #F2C033;
            background-color: #27184f;
        }

        .selectdd select:focus {
            outline: none;
        }

        .selectdd select:hover {
            border: 1px solid #F2C033;
            color: #F2C033;
        }

        .selectdd #dateandtime {
            width: 100%;
            height: 100%;
            border: 1px solid #F2C033;
            border-radius: 5px;
            padding: 5px;
            font-size: 1em;
            color: #F2C033;
            background-color: transparent;
        }

        .selectdd #dateandtime:focus {
            outline: none;
        }

        .selectdd #dateandtime:hover {
            border: 1px solid #F2C033;
            color: #F2C033;
        }

        #checkA {
            /* style button */
            background-color: #27184f;
            color: #F2C033 !important;
            padding: 5px 1em;
            border-radius: 5px;
            border: 1px solid #F2C033;
            font-size: 1em;
            font-weight: 400;
            width: 100%;

        }

        #checkA:hover {
            background-color: #F2C033;
            color: #27184f !important;
            padding: 5px 1em;
            border-radius: 5px;
            border: 1px solid #F2C033;
            font-size: 1em;
            font-weight: 400;
            width: 100%;
        }

        /* .timeLeft {
            color: #F2C033;
            font-size: 1.2em;
            font-weight: 400;
            width: 100%;
            text-align: center;
            transition: color 1.5s;
        } */

        .timeLeft,
        .readyforaudition {
            background-color: #F2C033;
            font-size: 1.2em;
            font-weight: 400;
            color: #27184f !important;
            padding: 5px 1em;
            border-radius: 5px;
            text-align: center !important;
            text-decoration: none;

        }


        form {
            width: 100%;
        }

        .err {
            color: #F2C033 !important;
        }

        .userName {
            pointer-events: none;
            color: #88266F !important;
            border-radius: 20%;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="imageOne">
            <div class="onetext">

                <h2><span style="color: #88266F;">G</span>-FACTOR</h2>
                <h5>digital Audition Platform</h5>
            </div>
        </div>
        <div class="container">
            <header>
                <div class="logo">
                    <a href="/dashboard">

                        <img src="/assest/OLIVE/logo.png" alt="">
                    </a>
                </div>
                <div class="icon">
                    <div class="user">
                        <!-- <a href="/profile">
                        <img class="imgicon" src="/assest/OLIVE/usergold.png" alt="" srcset="">
                    </a> -->

                    </div>
                    <div id="nav">
                        <div class="home">
                            <img class="menubar" src="/assest/OLIVE/dashboard.png" alt="" srcset="">
                        </div>
                    </div>

                </div>
                <div class="navlink">
                    <a href="#" class="userName">

                        Hi ! <%= user.name %>
                    </a>
                    <a href="/dashboard">home</a>
                    <a href="/digitalauditionplatform">digitalauditionplatform</a>
                    <a href="/profile">profile</a>
                    <a href="/logout">logout</a>

                </div>
            </header>

            <section class="content">


                <% if (auditions.length===0) { %>
                    <p class="no_auditions">You have no auditions</p>
                    <% } %>

                        <div class="auditionBox">
                            <% if (auditions) { %>

                                <div class="abox">

                                    <div class="auditiontext">

                                        <div class="textimg">
                                            <img class="round" src="<%= auditions.auditionLogo%>" alt="" srcset="">
                                            <div class="">
                                                <h4>
                                                    <%= auditions.auditionName %>
                                                </h4>
                                                <p>
                                                    <%= auditions.auditionDescription %>
                                                </p>

                                            </div>
                                        </div>


                                    </div>
                                    <div class="abox_content">
                                        <!-- <img width="5px" src="/assest/OLIVE/detailsicon.png" /> -->
                                        <!-- <div class="imageforaudition">
                                            <img class="round" src="<%= auditions.auditionLogo%>" alt="" srcset="">
                                        </div> -->

                                    </div>
                                    <div class="abox_content">
                                        <img width="15px" src="/assest/OLIVE/location.png" />
                                        <p>Nigeria</p>
                                    </div>
                                    <div class="abox_content">
                                        <img src="/assest/OLIVE/date.png" />
                                        <p class="date">
                                            <%= auditions.auditionStartDate %> - <%= auditions.auditionEndDate %>
                                        </p>
                                    </div>
                                    <div class="abox_content ">
                                        <label for="upload" style="cursor: pointer;">
                                            <img width="20px" src="/assest/OLIVE/videoicon.png" />
                                        </label>
                                        <p>
                                            <% if (auditions.auditionPattern===1) { %>

                                                Live Event

                                                <% } %>

                                                    <% if (auditions.auditionPattern===0) { %>

                                                        <form enctype="multipart/form-data" class="vidform">
                                                            <input type="file" name="upload" id="upload" hidden>

                                                            <label for="upload" style="cursor: pointer;">
                                                                <a class="uploadbtn" data-audition="<%=auditions._id%>"
                                                                    data-provider='<%=auditions.provider%>'
                                                                    data-user="<%=user._id%>">Upload
                                                                    1Minute video</a>
                                                            </label>
                                                        </form>
                                                        <% } %>



                                        </p>
                                    </div>
                                    <!-- flex div -->
                                    <% if (auditions.auditionPattern===1) { %>
                                        <% if (dateSelection===false) { %>
                                            <div class="abox_content" id="selection">
                                                <!-- <img width="20px" src="/assest/OLIVE/dateandtime.png"
                                                    id="fordateandtime" /> -->
                                                <!-- <p class="infotext">Select date & time for Auditioning</p> -->
                                                <form id="dateSelection" class="fade">
                                                    <!-- <div class="timeLeft"></div> -->

                                                    <div class="dateicon">
                                                        <p class="" style="color: #F2C033;text-transform: uppercase;">
                                                            Select date & time for Auditioning</p>
                                                        <p class="err"></p>
                                                        <label id="forDate" for="dateandtime">
                                                            <img class="icondate" src="/assest/OLIVE/date.png" />
                                                        </label>
                                                        <div class="selectdd">

                                                            <input name="date" id="dateandtime" type="date"
                                                                min="<%=auditions.auditionStartDate%>"
                                                                max="<%=auditions.auditionEndDate%>" placeholder="Date"
                                                                required>
                                                            <p>
                                                                <select name="time" id="time" required>
                                                                    <option value="">Time</option>
                                                                    <option value="9:00">9:00 am - 11:00 am</option>
                                                                    <option value="14:00">2:00 pm - 4:00 pm</option>
                                                                    <option value="18:00">6:00 pm - 8:00 pm</option>

                                                                </select>
                                                            </p>
                                                        </div>

                                                        <button id="checkA" type="submit">
                                                            Submit
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>

                                            <% } %>
                                                <% if (dateSelection) { %>
                                                    <p class="timedetails">Your audition link will be available in</p>
                                                    <p class="timeLeft">
                                                        <!-- <img src="/assest/OLIVE/tik.gif" /> -->
                                                    </p>
                                                    <p class="dbDate">
                                                    </p>
                                                    <a class="readyforaudition" target="_blank"
                                                        href="https://studio.restream.io/guest/bDBaNllXa7srZaCHW01LjKxavz4ynEU">Go
                                                        to
                                                        Audition</a>
                                                    <%}%>
                                                        <% } %>
                                                            <!-- <input type="time" name="" id="time" list="appointmentdateslist"> -->
                                                            <!-- select time -->


                                                            <% if (video) { %>
                                                                <p class="isvideo"
                                                                    style="color: #F2C033;text-align: center;padding: 5px;">
                                                                    Your
                                                                    video has been uploaded</p>
                                                                <!-- <p class="verr"></p> -->
                                                                <% } %>
                                                                    <% if (video===false ) { %>
                                                                        No videos uploaded
                                                                        <!-- <form enctype="multipart/form-data">
                                                                            <input type="file" name="upload" id="upload"
                                                                                hidden>

                                                                            <label for="upload"
                                                                                style="cursor: pointer;">
                                                                                <a class="uploadbtn"
                                                                                    style="float: right;"
                                                                                    data-audition="<%=auditions._id%>"
                                                                                    data-provider='<%=auditions.provider%>'
                                                                                    data-user="<%=user._id%>">Upload
                                                                                    1Minute video</a>
                                                                            </label>
                                                                        </form> -->

                                                                        <% } else {%>

                                                                            <% } %>

                                </div>
                                <!-- <br> -->

                                <% } %>

                        </div>

            </section>

        </div>


        <div class="" style="background-color: #000;" style="margin-top: 10px;height: 8vh; " hidden>
            <div class="footer_social" style="margin: 0px;padding-bottom: 20px;">
                <div>
                    <p><span style="color: #ddd;">&copy; 2021</span> GhenGhen </p>
                </div>
                <div class="social_icon">
                    <img src="/assest/OLIVE/fb.png" />
                    <img src="/assest/OLIVE/instagram.png" />
                    <img src="/assest/OLIVE/twitter.png" />
                </div>
            </div>

        </div>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

        <script>


            let err = document.querySelector('.err');
            let verr = document.querySelector('.verr');


            const date = document.querySelector(".date");
            const readyforaudition = document.querySelector(".readyforaudition");
            const setDate = date.innerHTML;
            // get day

            const day = setDate.slice(0, 2);
            // get month
            const month = setDate.slice(3, 5);

            const upload = document.querySelector("#upload");
            const uploadform = document.querySelector("#form");
            const btn = document.querySelector(".btn");
            let uploadbtn = document.querySelector(".uploadbtn");


            // video duration check
            if (upload) {
                upload.addEventListener("change", (e) => {
                    const file = e.target.files[0];
                    const fileType = file.type;
                    if (fileType.match(/video.*/)) {
                        const video = document.createElement("video");
                        video.src = URL.createObjectURL(file);
                        video.onloadedmetadata = () => {
                            const duration = video.duration;
                            if (duration > 61) {
                                verr.innerHTML = "Video duration should be 1 minute or less";
                                // verr.style.color = "goldenrod";
                                console.log("Video duration should be 1 minute or less");
                                return false
                            } else {
                                uploadbtn.innerHTML = "Uploading Please wait... ";

                                // immediately post to server



                                const formData = new FormData();
                                const audition = uploadbtn.getAttribute("data-audition");
                                const provider = uploadbtn.getAttribute("data-provider");
                                const user = uploadbtn.getAttribute("data-user");
                                formData.append("user", user);
                                formData.append("provider", provider);
                                formData.append("audition", audition);
                                formData.append("video", file);

                                //  post to server with fecth
                                fetch("/uploadvideo", {
                                    method: "POST",
                                    body: formData
                                })
                                    .then((res) => res.json())
                                    .then((data) => {
                                        console.log(data);
                                        window.location.reload();
                                        if (data.status === "success") {
                                            err.innerHTML = "video uploaded";
                                            // window.location.reload();
                                            // uploadform.reset();
                                            uploadbtn.innerHTML = "Uploaded";
                                        } else {
                                            err.innerHTML = "error uploading video";
                                        }
                                    });

                                // post formdata to server and display success message



                            }
                        };
                    } else {
                        err.innerHTML = "Please upload a video";

                    }
                });
            }
            const isvideo = document.querySelector(".isvideo");
            if (isvideo) {
                const vidform = document.querySelector(".vidform");
                vidform.parentElement.style.display = "none";

            }






            const fordateandtime = document.querySelector("#fordateandtime");
            const dateSelection = document.querySelector("#dateSelection");
            const selection = document.querySelector("#selection");
            const dateandtime = document.querySelector("#dateandtime");
            const dbDate = document.querySelector("#dbDate");
            const formatDate = document.querySelector(".date")
            const checkA = document.querySelector("#checkA")
            const formatStartDate = new Date('<%=auditions.auditionStartDate%>')
            const formatEndDate = new Date('<%=auditions.auditionEndDate %>')
            console.log(formatDate)
            console.log(formatEndDate)

            // remove time and ser to date
            const formatStartDateString = formatStartDate.toDateString();
            const formatEndDateString = formatEndDate.toDateString();
            formatDate.innerHTML = `${formatStartDateString} - ${formatEndDateString}`;



            const infotext = document.querySelector(".infotext");


            if (dateSelection) {
                dateSelection.addEventListener("submit", (e) => {
                    // check if date is selected
                    e.preventDefault();
                    if (e.target.querySelector("input[type=date]").value == "" || e.target.querySelector("#time").value == "") {
                        err.innerHTML = "Please select a date";
                        return false;
                        checkA.innerHTML = "submit";
                    }
                    checkA.innerHTML = "Please wait...";
                    const date = new Date(e.target.querySelector("input[type=date]").value);
                    const time = e.target.querySelector("#time").value;
                    console.log(date, time)
                    const dateandtime = `${date.getMonth() + 1} ${date.getDate()} ${date.getFullYear()} ${time}`;


                    let payload = {
                        date: dateandtime,
                        user: "<%=user._id%>",
                        provider: "<%=auditions.provider%>",
                        audition: "<%=auditions._id%>"
                    }
                    fetch("/dateselection", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(payload)
                    })
                        .then((res) => res.json())
                        .then((data) => {
                            console.log(data);
                            dateSelection.reset();
                            if (data.status === "success") {
                                checkA.innerHTML = "Date set";
                                window.location.reload();
                            } else {
                                err.innerHTML = data.status;
                                checkA.innerHTML = "submit";
                            }


                        })
                });
            }


            if ("<%=dateSelection.date%>") {
                // dateSelection.parentElement.style.display = "none";
                readyforaudition.style.display = "none";
                setInterval(() => {
                    const gap = new Date("<%=dateSelection.date%>").getTime() - new Date().getTime()
                    //create a count down
                    const count = document.querySelector(".timeLeft");

                    const now = new Date().getTime()

                    const days = Math.floor(gap / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((gap % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minute = Math.floor((gap % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((gap % (1000 * 60)) / 1000);
                    const timeLeft = `${days}:days ${hours}:hours ${minute}:minutes ${seconds}:seconds`;
                    count.innerHTML = timeLeft;
                    // if days is 0 
                    if (days == 0) {
                        count.innerHTML = `${hours}:hours ${minute}:minutes ${seconds}:seconds`;
                    }
                    if (hours == 0) {
                        count.innerHTML = `${minute}:minutes ${seconds}:seconds`;
                    }

                    if (gap < 0) {
                        document.querySelector(".timedetails").style.display = "none";

                        // stop countdown
                        count.innerHTML = " ";
                        readyforaudition.style.display = "block";
                        // count.innerHTML = "";
                        document.querySelector(".timeLeft").style.display = "none";
                    }
                    // console.log(timeLeft)
                    // console.log(distance)
                }, 1000);
            }


        </script>

        <script>
            const imageOne = document.querySelector('.imageOne');
            const ImagesArr = ["/assest/OLIVE/duotone4.png", "/assest/OLIVE/duotone5.png", "/assest/OLIVE/duotone3.png", "/assest/OLIVE/duotone6.png", "/assest/OLIVE/duotone7.png", "/assest/OLIVE/duotone8.png", "/assest/OLIVE/duotone9.png", "/assest/OLIVE/duotone10.png"];

            setInterval(() => {
                // change imageOne background image with transition
                // transition duration is 2 seconds
                imageOne.style.transition = "background-image 5s linear 5s";
                imageOne.style.backgroundImage = `url(${ImagesArr[Math.floor(Math.random() * ImagesArr.length)]})`;
                console.log(ImagesArr[Math.floor(Math.random() * ImagesArr.length)])


            }, 5000);
        </script>

    </div>


    <script>
        const home = document.querySelector('.home');
        if (home) {
            const navlink = document.querySelector('.navlink');
            home.addEventListener('click', () => {
                navlink.classList.toggle('shownav');
                if (navlink.classList.contains('shownav')) {
                    home.querySelector("img").src = '/assest/OLIVE/close.png';
                } else {
                    home.querySelector("img").src = '/assest/OLIVE/dashboard.png';
                }
            });

        }


    </script>

</body>

</html>